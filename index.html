<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discord Game Status</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&family=Titillium+Web:wght@700&display=swap" rel="stylesheet">
  </head>
  <body>
    <header>
      <div class="row">
        <input type="text" id="searchGames" onkeyup="searchFilter()" placeholder="Search for games...">
      </div> 
    </header>
    <main>
      <div class="row">
        <div class="col-3 col-xs game">
          <img src="images/insurgency-preview.jpg" class="preview" />
          <div class="description">
            <h3>Insurgency</h3>
            <p>Flavour cup siphon as breve strong saucer ristretto coffee. Viennese siphon instant dripper cup robusta a barista breve organic macchiato rich. Roast plunger pot, variety strong mocha caffeine breve galão rich. Viennese pumpkin spice, fair trade barista, mug milk mocha caffeine wings caffeine grinder.</p>
            <button class="grey" onclick="sendMessage('Insurgency', 'https://tsprocreative.com/images/insurgency-cover.jpg')">Play This Game</button>
          </div>
        </div>
        <div class="col-3 col-xs game">
          <img src="images/mk8d-preview.jpg" class="preview" />
          <div class="description">
            <h3>Mario Kart 8 Deluxe</h3>
              <p>Flavour cup siphon as breve strong saucer ristretto coffee. Viennese siphon instant dripper cup robusta a barista breve organic macchiato rich. Roast plunger pot, variety strong mocha caffeine breve galão rich. Viennese pumpkin spice, fair trade barista, mug milk mocha caffeine wings caffeine grinder.</p>
              <button class="grey" onclick="sendMessage('Mario Kart 8 Deluxe', 'https://tsprocreative.com/images/mk8d-cover.jpg')">Play This Game</button>
            </div>
        </div>
        <div class="col-3 col-xs game">
          <img src="images/rocket-league-preview.jpg" class="preview">
          <div class="description">
            <h3>Rocket League</h3>
              <p>Flavour cup siphon as breve strong saucer ristretto coffee. Viennese siphon instant dripper cup robusta a barista breve organic macchiato rich. Roast plunger pot, variety strong mocha caffeine breve galão rich. Viennese pumpkin spice, fair trade barista, mug milk mocha caffeine wings caffeine grinder.</p>
              <button class="blue" onclick="sendMessage('Rocket League', 'https://tsprocreative.com/images/rocket-league-cover.png')">Play This Game</button>
            </div>
        </div>
        <div class="col-3 col-xs game">
          <img src="images/splatoon-2-preview.jpg" class="preview">
          <div class="description">
            <h3>Splatoon 2</h3>
              <p>Flavour cup siphon as breve strong saucer ristretto coffee. Viennese siphon instant dripper cup robusta a barista breve organic macchiato rich. Roast plunger pot, variety strong mocha caffeine breve galão rich. Viennese pumpkin spice, fair trade barista, mug milk mocha caffeine wings caffeine grinder.</p>
              <button class="pink" onclick="sendMessage('Splatoon 2', 'https://tsprocreative.com/images/splatoon-2-cover.jpg')">Play This Game</button>
            </div>
        </div>
        <div class="col-3 col-xs game">
          <img src="images/splatoon-2-preview.jpg" class="preview">
          <div class="description">
            <h3>Splatoon 2</h3>
              <p>Flavour cup siphon as breve strong saucer ristretto coffee. Viennese siphon instant dripper cup robusta a barista breve organic macchiato rich. Roast plunger pot, variety strong mocha caffeine breve galão rich. Viennese pumpkin spice, fair trade barista, mug milk mocha caffeine wings caffeine grinder.</p>
              <button class="pink" onclick="sendMessage('Splatoon 2', 'https://tsprocreative.com/images/splatoon-2-cover.jpg')">Play This Game</button>
            </div>
        </div>
        <div class="col-3 col-xs game">
          <img src="images/splatoon-2-preview.jpg" class="preview">
          <div class="description">
            <h3>Splatoon 2</h3>
              <p>Flavour cup siphon as breve strong saucer ristretto coffee. Viennese siphon instant dripper cup robusta a barista breve organic macchiato rich. Roast plunger pot, variety strong mocha caffeine breve galão rich. Viennese pumpkin spice, fair trade barista, mug milk mocha caffeine wings caffeine grinder.</p>
              <button class="pink" onclick="sendMessage('Splatoon 2', 'https://tsprocreative.com/images/splatoon-2-cover.jpg')">Play This Game</button>
            </div>
        </div>
      </div>
    </main>
  </body>

  <script>
    function sendMessage(x,img) {
      var request = new XMLHttpRequest();
      request.open("POST", "https://discord.com/api/webhooks/762084461092798494/3h6pWBiM9JW94CKIMBreK9dHpEO7AZyE9XCLDVg12xcZG1EGz19uSUw9BCqLuea9Mb6H");

      request.setRequestHeader('Content-type', 'application/json');

      var params = {
        "username": "La Crew",
        "embeds": [{
          "title": "Game Status",
          "color": "52479",
          "image": { 
            "url": img 
          },
          "description": "We're currently playing " + x + "!"
        }]
      }

      request.send(JSON.stringify(params));
      alert(x);
    }
    function searchFilter() {
      // Declare variables
      var input, filter, ul, li, a, i, txtValue;
      input = document.getElementById('searchGames');
      filter = input.value.toUpperCase();
      game = document.getElementsByClassName('game');

      // Loop through all list items, and hide those who don't match the search query
      for (i = 0; i < game.length; i++) {
        a = game[i].getElementsByTagName("h3")[0];
        txtValue = a.textContent || a.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          game[i].style.display = "";
        } else {
          game[i].style.display = "none";
        }
      }
    }
  </script>
</html>